{
  "server": {
    "host": "0.0.0.0",
    "port": 8080,
    "workers": 4,
    "tcp_backlog": 1024,
    "batch_size_limit": 100
  },
  "upstream": {
    "test_urls": true,
    "websocket_enabled": false
  },
  "cache": {
    "enabled": true,
    "memory": {
      "max_size": 100000
    },
    "redis": {
      "address": "redis:6379",
      "password": "",
      "db": 0,
      "pool_size": 10,
      "read_timeout": 3,
      "write_timeout": 3,
      "dial_timeout": 5,
      "compression": true
    }
  },
  "logging": {
    "level": "info",
    "format": "json",
    "output": "stdout"
  },
  "telemetry": {
    "service_name": "jussi-go",
    "otlp_endpoint": "jaeger:4318",
    "resource_attributes": "environment=development"
  },
  "prometheus": {
    "enabled": true,
    "path": "/metrics",
    "localhost_only": true,
    "allowed_ips": []
  },
  "limits": {
    "accounts_blacklist": [
      "accounttoblock"
    ],
    "account_history_limit": 100
  },
  "upstreams": [
    {
      "name": "steemd",
      "translate_to_appbase": true,
      "urls": [
        ["steemd", "https://api.steem.fans"]
      ],
      "ttls": [
        ["steemd", 3],
        ["steemd.login_api", -1],
        ["steemd.network_broadcast_api", -1],
        ["steemd.follow_api", 10],
        ["steemd.market_history_api", 1],
        ["steemd.database_api", 3],
        ["steemd.database_api.get_block", -2],
        ["steemd.database_api.get_block_header", -2],
        ["steemd.database_api.get_content", 1],
        ["steemd.database_api.get_state", 1],
        ["steemd.database_api.get_state.params=['/trending']", 30],
        ["steemd.database_api.get_state.params=['trending']", 30],
        ["steemd.database_api.get_state.params=['/hot']", 30],
        ["steemd.database_api.get_state.params=['/welcome']", 30],
        ["steemd.database_api.get_state.params=['/promoted']", 30],
        ["steemd.database_api.get_state.params=['/created']", 10],
        ["steemd.database_api.get_dynamic_global_properties", 1]
      ],
      "timeouts": [
        ["steemd", 5],
        ["steemd.network_broadcast_api", 0]
      ]
    },
    {
      "name": "appbase",
      "urls": [
        ["appbase", "https://api.steem.fans"]
      ],
      "ttls": [
        ["appbase", -2],
        ["appbase.block_api", -2],
        ["appbase.database_api", 1]
      ],
      "timeouts": [
        ["appbase", 3],
        ["appbase.chain_api.push_block", 0],
        ["appbase.chain_api.push_transaction", 0],
        ["appbase.network_broadcast_api", 0],
        ["appbase.condenser_api.broadcast_block", 0],
        ["appbase.condenser_api.broadcast_transaction", 0],
        ["appbase.condenser_api.broadcast_transaction_synchronous", 0],
        ["appbase.condenser_api.get_ops_in_block.params=[2889020,false]", 20]
      ]
    }
  ]
}

